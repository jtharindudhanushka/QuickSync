# QuickSync Clip

QuickSync Clip is a secure, real-time, cross-platform clipboard app. It instantly syncs text snippets and shares file links across your devices via a private web interface. Built as a single-page application (SPA) using vanilla JavaScript with Supabase for backend services and Gofile for temporary file hosting.

---

## Table of Contents

- [Key Features](#key-features)
- [Tech Stack](#tech-stack)
- [Project Structure](#project-structure)
- [Setup & Configuration](#setup--configuration)
  - [1. Supabase: Tables](#1-supabase-tables)
  - [2. Enable Row Level Security (RLS)](#2-enable-row-level-security-rls)
  - [3. Enable Real-time](#3-enable-real-time)
  - [4. Update Keys](#4-update-keys)
  - [5. Run](#5-run)
- [Libraries & APIs](#libraries--apis)
- [Notes](#notes)

---

## Key Features

- Real-time text sync across devices
- Secure user authentication (Supabase email/password)
- Row Level Security (RLS) so users only access their own data
- File uploads via Gofile with progress, speed (MB/s) and ETA
- Custom file naming modal and QR code generation for easy mobile sharing
- History list with delete functionality
- Responsive "hacker-terminal" themed UI (Tailwind CSS)

---

## Tech Stack

- Frontend: HTML5, Tailwind CSS (CDN), Vanilla JavaScript (ES6 modules)
- Backend (BaaS): Supabase (Auth, PostgreSQL, Realtime)
- File hosting: Gofile.io (temporary hosting)
- Libraries: Lucide Icons, QRCode.js

---

## Project Structure

This project is a single `index.html` file that contains the entire SPA and required scripts. Store your Supabase config in the script section as described below.

---

## Setup & Configuration

Follow these steps to run the app locally or host it on a static site.

### 1. Supabase: Tables

Run the following SQL in Supabase SQL Editor to create tables:

```sql
-- Create the table for text clips
CREATE TABLE public.clips (
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at timestamp with time zone DEFAULT now() NOT NULL,
  user_id uuid DEFAULT auth.uid() NOT NULL,
  content text,
  CONSTRAINT clips_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
);

-- Create the table for file links
CREATE TABLE public.files (
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at timestamp with time zone DEFAULT now() NOT NULL,
  user_id uuid DEFAULT auth.uid() NOT NULL,
  file_name text,
  file_url text,
  CONSTRAINT files_user_id_fkey FOREIGN KEY (user_id) REFERENCES auth.users(id) ON DELETE CASCADE
);
```

### 2. Enable Row Level Security (RLS)

Enable RLS for both `clips` and `files` tables and create policies so users only access their own rows.

Example policies:

```sql
-- Policy for 'clips'
CREATE POLICY "Enable ALL access for authenticated users"
ON public.clips
AS PERMISSIVE FOR ALL
TO authenticated
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- Policy for 'files'
CREATE POLICY "Enable ALL access for authenticated users"
ON public.files
AS PERMISSIVE FOR ALL
TO authenticated
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);
```

(You can also use the built-in "Enable access to authenticated users only" templates in Supabase.)

### 3. Enable Real-time

- In Supabase Console → Database → Publications.
- Edit the `supabase_realtime` publication and ensure both `clips` and `files` tables are added so realtime updates work across devices.

### 4. Update Keys

- In Supabase Console → Project Settings → API
- Copy your Project URL and anon (public) key.
- Paste them into the `<script type="module">` section of `index.html`:

```js
// --- Supabase Configuration ---
const supabaseUrl = 'YOUR_SUPABASE_URL_HERE';
const supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY_HERE';
```

### 5. Run

Host `index.html` on any static host (GitHub Pages, Vercel, Netlify) or open it locally with a static file server.

---

## Libraries & APIs

- Supabase — auth, database, realtime
- Gofile.io — temporary file hosting (default retention ~7 days)
- Lucide Icons, QRCode.js — UI & QR generation

---

## Notes

- The project intentionally uses a single file SPA for simplicity and portability.
- Ensure RLS policies are correctly configured — otherwise users may access others' data.
- Gofile links are temporary; if you need persistent storage, replace with a different provider.

---
